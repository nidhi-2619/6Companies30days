Alice has many ways to go from node 0 to leaf node, but Bob has only one way to go Therefore, we can start dfs from node 0 to record the parent node of each node (so that bob can walk up the parent node) and record the distance between each node and node 0 Then go up along the road of bob. If the distance from bob to a point < the distance from alice to this point, then the amount of this point will become 0 when alice passes by. If the distance from bob to a point = the distance from alice to this point The distance of the point, then the amount of this point can only get amount/2 when Alice passes by After updating the amount, do dfs again from root to find the answer Q: How to prevent the visited nodes from being visited again when doing dfs with undirected tree? A: Pass currnode and parentnode (parent of currnode) in dfs If nextnode (neighbor of currnode) is equal to parentnode, just skip it 
1DFS refer  Traversing the d0 (the distance from node 0 to node i) of each point from top to bottom, we must know that db (distance from node i to node bob) can be known through the children of dfs itself